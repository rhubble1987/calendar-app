<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    />
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
      integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf"
      crossorigin="anonymous"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Open+Sans&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="style.css" />
    <title>Work Day Scheduler</title>
  </head>

  <body>
    <header class="jumbotron">
      <h1 class="display-3">Date</h1>
      <section class="description">
        <h4>
          Enter today's events in the timeblocks below. Past events will appear
          grey, events currently taking place will appear red, and future events
          will appear green.
        </h4>
      </section>
    </header>
    <div class="container">
      <!-- Timeblocks go here -->
      <table class="table table-bordered table-hover">
        <tr id="9am" data-timeblock="9">
          <td><h1>9 AM</h1></td>
          <td class="col-lg">
            <label name="event-title" for="event-info"><h3>Event</h3></label>
            <br />
            <textarea
              type="textarea"
              class="form-control"
              placeholder="Enter event info"
              id="9am-event-info"
            ></textarea>
            <br />
            <button type="button" class="btn btn-info" id="update9am">
              Update
            </button>
          </td>
        </tr>
        <tr id="10am" data-timeblock="10">
          <td scope="row"><h1>10 AM</h1></td>
          <td>
            <label name="event-title" for="event-title"><h3>Event</h3></label>
            <br />
            <textarea
              type="textarea"
              class="form-control"
              placeholder="Enter event info"
              id="10am-event-info"
            ></textarea>
            <br />
            <button type="button" class="btn btn-info" id="update10am">
              Update
            </button>
          </td>
        </tr>
        <tr id="11am" data-timeblock="11">
          <td scope="row"><h1>11 AM</h1></td>
          <td>
            <label name="event-title" for="event-title"><h3>Event</h3></label>
            <br />
            <textarea
              type="textarea"
              class="form-control"
              placeholder="Enter event info"
              id="11am-event-info"
            ></textarea>
            <br />
            <button type="button" class="btn btn-info" id="update11am">
              Update
            </button>
          </td>
        </tr>
        <tr id="12pm" data-timeblock="12">
          <td scope="row"><h1>12 PM</h1></td>
          <td>
            <label name="event-title" for="event-title"><h3>Event</h3></label>
            <br />
            <textarea
              type="textarea"
              class="form-control"
              placeholder="Enter event info"
              id="12pm-event-info"
            ></textarea>
            <br />
            <button type="button" class="btn btn-info" id="update12pm">
              Update
            </button>
          </td>
        </tr>
        <tr id="1pm" data-timeblock="13">
          <td scope="row"><h1>1 PM</h1></td>
          <td>
            <label name="event-title" for="event-title"><h3>Event</h3></label>
            <br />
            <textarea
              type="textarea"
              class="form-control"
              placeholder="Enter event info"
              id="1pm-event-info"
            ></textarea>
            <br />
            <button type="button" class="btn btn-info" id="update1pm">
              Update
            </button>
          </td>
        </tr>
        <tr id="2pm" data-timeblock="14">
          <td scope="row"><h1>2 PM</h1></td>
          <td>
            <label name="event-title" for="event-title"><h3>Event</h3></label>
            <br />
            <textarea
              type="textarea"
              class="form-control"
              placeholder="Enter event info"
              id="2pm-event-info"
            ></textarea>
            <br />
            <button type="button" class="btn btn-info" id="update2pm">
              Update
            </button>
          </td>
        </tr>
        <tr id="3pm" data-timeblock="15">
          <td scope="row"><h1>3 PM</h1></td>
          <td>
            <label name="event-title" for="event-title"><h3>Event</h3></label>
            <br />
            <textarea
              type="textarea"
              class="form-control"
              placeholder="Enter event info"
              id="3pm-event-info"
            ></textarea>
            <br />
            <button type="button" class="btn btn-info" id="update3pm">
              Update
            </button>
          </td>
        </tr>
        <tr id="4pm" data-timeblock="16">
          <td scope="row"><h1>4 PM</h1></td>
          <td>
            <label name="event-title" for="event-title"><h3>Event</h3></label>
            <br />
            <textarea
              type="textarea"
              class="form-control"
              placeholder="Enter event info"
              id="4pm-event-info"
            ></textarea>
            <br />
            <button type="button" class="btn btn-info" id="update4pm">
              Update
            </button>
          </td>
        </tr>
      </table>
    </div>

    <script
      src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
      integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
      crossorigin="anonymous"
    ></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>
    <script>
      //Pseudocode
      //1. When the user first accesses the page, the current day's timeslots appear, along with the current date at the top of the page.
      moment().format("MMMM Do YYYY");
      $(".display-3").text(moment().format("MM/DD/YYYY"));
      console.log(currentTime.format("H"));

      //2. Time blocks are color-coded depending on if they are in the past, present, or future. Past = grey, present = red, future = white.

      var currentHour = moment().format("H");
      console.log(currentHour);

      var timeblock9Am = $("#9am");
      var timeblockHour9Am = $("#9am").data("timeblock");
      console.log(timeblockHour9Am);
      if (timeblockHour9Am < currentHour) {
        timeblock9Am.attr("class", "past");
      } else if (timeblockHour9Am == currentHour) {
        timeblock9Am.attr("class", "present");
      } else {
        timeblock9Am.attr("class", "future");
      }

      var timeblock10Am = $("#10am");
      var timeblockHour10Am = $("#10am").data("timeblock");
      console.log(timeblockHour10Am);
      if (timeblockHour10Am < currentHour) {
        timeblock10Am.attr("class", "past");
      } else if (timeblockHour10Am == currentHour) {
        timeblock10Am.attr("class", "present");
      } else {
        timeblock10Am.attr("class", "future");
      }

      var timeblock11Am = $("#11am");
      var timeblockHour11Am = $("#11am").data("timeblock");
      console.log(timeblockHour11Am);
      if (timeblockHour11Am < currentHour) {
        timeblock11Am.attr("class", "past");
      } else if (timeblockHour11Am == currentHour) {
        timeblock11Am.attr("class", "present");
      } else {
        timeblock11Am.attr("class", "future");
      }

      var timeblock12Pm = $("#12pm");
      var timeblockHour12Pm = $("#12pm").data("timeblock");
      console.log(timeblockHour12Pm);
      if (timeblockHour12Pm < currentHour) {
        timeblock12Pm.attr("class", "past");
      } else if (timeblockHour12Pm == currentHour) {
        timeblock12Pm.attr("class", "present");
      } else {
        timeblock12Pm.attr("class", "future");
      }

      var timeblock1Pm = $("#1pm");
      var timeblockHour1Pm = $("#1pm").data("timeblock");
      console.log(timeblockHour1Pm);
      if (timeblockHour1Pm < currentHour) {
        timeblock1Pm.attr("class", "past");
      } else if (timeblockHour1Pm == currentHour) {
        timeblock1Pm.attr("class", "present");
      } else {
        timeblock1Pm.attr("class", "future");
      }

      var timeblock2Pm = $("#2pm");
      var timeblockHour2Pm = $("#2pm").data("timeblock");
      console.log(timeblockHour2Pm);
      if (timeblockHour2Pm < currentHour) {
        timeblock2Pm.attr("class", "past");
      } else if (timeblockHour2Pm == currentHour) {
        timeblock2Pm.attr("class", "present");
      } else {
        timeblock2Pm.attr("class", "future");
      }

      var timeblock3Pm = $("#3pm");
      var timeblockHour3Pm = $("#3pm").data("timeblock");
      console.log(timeblockHour3Pm);
      if (timeblockHour3Pm < currentHour) {
        timeblock3Pm.attr("class", "past");
      } else if (timeblockHour3Pm == currentHour) {
        timeblock3Pm.attr("class", "present");
      } else {
        timeblock3Pm.attr("class", "future");
      }

      var timeblock4Pm = $("#4pm");
      var timeblockHour4Pm = $("#4pm").data("timeblock");
      console.log(timeblockHour4Pm);
      if (timeblockHour4Pm < currentHour) {
        timeblock4Pm.attr("class", "past");
      } else if (timeblockHour4Pm == currentHour) {
        timeblock4Pm.attr("class", "present");
      } else {
        timeblock4Pm.attr("class", "future");
      }

      //3. When the user enters data and clicks the update button, the event data is saved

      $("#update9am").on("click", function (event) {
        event.preventDefault;
        var eventInfo = $("#9am-event-info").val();
        localStorage.setItem("9amEvent", eventInfo);
      });

      $("#update10am").on("click", function (event) {
        event.preventDefault;
        var eventInfo = $("#10am-event-info").val();
        localStorage.setItem("10amEvent", eventInfo);
      });

      $("#update11am").on("click", function (event) {
        event.preventDefault;
        var eventInfo = $("#11am-event-info").val();
        localStorage.setItem("11amEvent", eventInfo);
      });

      $("#update12pm").on("click", function (event) {
        event.preventDefault;
        var eventInfo = $("#12pm-event-info").val();
        localStorage.setItem("12pmEvent", eventInfo);
      });

      $("#update1pm").on("click", function (event) {
        event.preventDefault;
        var eventInfo = $("#1pm-event-info").val();
        localStorage.setItem("1pmEvent", eventInfo);
      });

      $("#update2pm").on("click", function (event) {
        event.preventDefault;
        var eventInfo = $("#2pm-event-info").val();
        localStorage.setItem("2pmEvent", eventInfo);
      });

      $("#update3pm").on("click", function (event) {
        event.preventDefault;
        var eventInfo = $("#3pm-event-info").val();
        localStorage.setItem("3pmEvent", eventInfo);
      });

      $("#update4pm").on("click", function (event) {
        event.preventDefault;
        var eventInfo = $("#4pm-event-info").val();
        localStorage.setItem("4pmEvent", eventInfo);
      });

      //4. If the user refreshes or leaves and returns to the page, the saved events remain in their text boxes
      $(document).ready(function () {
        var eventInfo = localStorage.getItem("9amEvent");
        $("#9am-event-info").val(eventInfo);
      });

      $(document).ready(function () {
        var eventInfo = localStorage.getItem("10amEvent");
        $("#10am-event-info").val(eventInfo);
      });

      $(document).ready(function () {
        var eventInfo = localStorage.getItem("11amEvent");
        $("#11am-event-info").val(eventInfo);
      });

      $(document).ready(function () {
        var eventInfo = localStorage.getItem("12pmEvent");
        $("#12pm-event-info").val(eventInfo);
      });

      $(document).ready(function () {
        var eventInfo = localStorage.getItem("1pmEvent");
        $("#1pm-event-info").val(eventInfo);
      });

      $(document).ready(function () {
        var eventInfo = localStorage.getItem("2pmEvent");
        $("#2pm-event-info").val(eventInfo);
      });

      $(document).ready(function () {
        var eventInfo = localStorage.getItem("3pmEvent");
        $("#3pm-event-info").val(eventInfo);
      });

      $(document).ready(function () {
        var eventInfo = localStorage.getItem("4pmEvent");
        $("#4pm-event-info").val(eventInfo);
      });
    </script>
  </body>
</html>
